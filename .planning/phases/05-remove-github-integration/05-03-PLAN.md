---
phase: 05-remove-github-integration
plan: 03
type: execute
wave: 2
depends_on: ["05-01"]
files_modified:
  - midl-agent/system-prompt.md
  - midl-agent/bug-report-workflow.md
  - midl-agent/claude.json
autonomous: true

must_haves:
  truths:
    - "System prompt does not mention GitHub search, duplicate detection, or issue creation"
    - "Bug report workflow describes diagnostic-report-only flow"
    - "claude.json capabilities do not reference GitHub integration"
    - "Agent prompts guide users to share reports on Discord or GitHub manually"
  artifacts:
    - path: "midl-agent/system-prompt.md"
      provides: "Updated agent system prompt without GitHub features"
    - path: "midl-agent/bug-report-workflow.md"
      provides: "Updated workflow doc for diagnostic-only flow"
    - path: "midl-agent/claude.json"
      provides: "Updated capabilities list"
  key_links:
    - from: "midl-agent/system-prompt.md"
      to: "midl-agent/bug-report-workflow.md"
      via: "references workflow for bug reporting"
      pattern: "bug.report.workflow"
---

<objective>
Update all agent prompts and configuration to remove GitHub integration references and describe the diagnostic-report-only workflow.

Purpose: Agent instructions must match the new architecture. Users should be guided to generate diagnostic reports and share them manually (Discord/GitHub).
Output: Updated system-prompt.md, bug-report-workflow.md, and claude.json.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@midl-agent/system-prompt.md
@midl-agent/bug-report-workflow.md
@midl-agent/claude.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update system-prompt.md</name>
  <files>midl-agent/system-prompt.md</files>
  <action>
Update section "### 4. Bug Reporting & Solution Search" to become "### 4. Bug Reporting & Diagnostics". Remove all GitHub-specific steps. The new flow should be:

1. **Listen**: When user reports a problem, extract context from their description
2. **Generate Diagnostic Report**: Use WorkflowOrchestrator.handleProblemReport() to create a comprehensive diagnostic report (5 sections: problem, environment, steps taken, fixes attempted, suggestions)
3. **Present Report**: Show the formatted diagnostic report to the user
4. **Guide Sharing**: Tell user they can share this report on Discord (#support channel) or create a GitHub issue manually at https://github.com/midl-xyz/midl-js/issues/new

Remove references to:
- "Search First" / WorkflowOrchestrator searching GitHub
- "Present Solutions" / offering to implement fixes from GitHub
- "Submit: Create GitHub issue automatically"
- "Return URL: Give user the direct link to created issue"

Keep the principle: "The agent does the work. Extract info from conversation context. Target 1-2 user interactions."

In the "Session Workflow" section under "ISSUE DETECTION", update:
- "User reports bug -> Launch bug report workflow" stays but the workflow is now diagnostic-report-only
- Remove any mention of GitHub issue creation from the flow diagram
  </action>
  <verify>
Grep system-prompt.md for "GitHub issue" - should only appear in context of manual sharing (the GitHub URL). Should NOT mention automatic issue creation.
Grep for "WorkflowOrchestrator.handleProblemReport" - should still be referenced.
  </verify>
  <done>System prompt describes diagnostic-report-only workflow. No automatic GitHub integration mentioned.</done>
</task>

<task type="auto">
  <name>Task 2: Update bug-report-workflow.md and claude.json</name>
  <files>
    midl-agent/bug-report-workflow.md
    midl-agent/claude.json
  </files>
  <action>
**bug-report-workflow.md:**
Rewrite the workflow to reflect the new diagnostic-only flow:

```
User describes problem
        |
WorkflowOrchestrator.handleProblemReport()
        |
+-- Extract context from description (error messages, SDK version, network, methods)
|       |
+-- Generate BugReportDraft (BugReportGenerator)
|       |
+-- Generate DiagnosticReport (DiagnosticReportGenerator)
|       |
+-- Present to user
        |
"Here's a diagnostic report. Share it on Discord or GitHub."
```

Remove:
- All references to DuplicateDetector, SolutionExtractor, ApplicabilityScorer, FixImplementer
- The "Solutions found? YES/NO" branching
- The "Submit" section about IssueCreator
- References to GitHub API authentication and rate limits

Keep:
- Context Extraction section (error messages, SDK version, etc.)
- Bug Report Template section
- Bug Categories & Guidance section
- Severity Levels section
- Integration with MCP Tools section

Update the "Submission" section to say: "After the diagnostic report is generated, the agent presents it to the user and suggests sharing it on Discord (#support) or creating a GitHub issue manually at https://github.com/midl-xyz/midl-js/issues/new with the report content."

**claude.json:**
Update capabilities array - remove any GitHub search/integration mentions. Add "Diagnostic report generation for bug reports". Remove "bugReportingTools" from features or rename to "diagnosticReports". Keep everything else.
  </action>
  <verify>
Grep bug-report-workflow.md for "DuplicateDetector" or "IssueCreator" - should return nothing.
Grep claude.json for "GitHub" in capabilities - should return nothing.
  </verify>
  <done>Bug report workflow and claude.json describe diagnostic-only architecture with no GitHub automation.</done>
</task>

</tasks>

<verification>
- system-prompt.md does not mention automatic GitHub issue creation
- bug-report-workflow.md does not reference DuplicateDetector, SolutionExtractor, IssueCreator
- claude.json capabilities do not reference GitHub integration
- All three files guide users to share diagnostic reports manually
</verification>

<success_criteria>
All agent-facing documentation and configuration reflects the new diagnostic-report-only architecture. Users are guided to share reports on Discord or GitHub manually.
</success_criteria>

<output>
After completion, create `.planning/phases/05-remove-github-integration/05-03-SUMMARY.md`
</output>
